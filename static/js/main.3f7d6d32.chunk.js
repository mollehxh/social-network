(this["webpackJsonpnetwork-app"]=this["webpackJsonpnetwork-app"]||[]).push([[0],{73:function(e,t,n){},76:function(e,t,n){},77:function(e,t,n){},78:function(e,t,n){},79:function(e,t,n){},80:function(e,t,n){},81:function(e,t,n){},82:function(e,t,n){},83:function(e,t,n){},84:function(e,t,n){},85:function(e,t,n){},86:function(e,t,n){},87:function(e,t,n){"use strict";n.r(t);var c,r=n(3),a=n(24),s=n(33),i=n(25),o=n(30),l=n(59),u=n(55);!function(e){e.SET_USER="SET_USER",e.SIGN_OUT="SIGN_OUT",e.SIGN_IN="SIGN_IN",e.SIGN_UP="SIGN_UP",e.SET_LOADING="SET_LOADING",e.SET_ERROR="SET_ERROR"}(c||(c={}));var j=Object(u.a)((function(e,t){switch(t.type){case c.SET_USER:e.user=t.payload;break;case c.SET_LOADING:e.isLoading=t.payload;break;case c.SET_ERROR:e.error=t.payload}}),{user:null,isLoading:!1,error:""}),d=Object(o.b)({auth:j}),b=n(17),p=n.n(b),h=n(43),O=n(22),m=function(e){return{type:c.SET_USER,payload:e}},x=function(e){return{type:c.SET_LOADING,payload:e}},f=n(37),v=n(34);n(71),n(72);v.a.initializeApp({apiKey:"AIzaSyB0MFHsYA-CERTZX0Q7Yt2BJ8DCFswE7ro",authDomain:"social-network-d3a6e.firebaseapp.com",projectId:"social-network-d3a6e",storageBucket:"social-network-d3a6e.appspot.com",messagingSenderId:"263266876411",appId:"1:263266876411:web:8044d6ca3d6f04520ae95e"});var g=v.a.auth(),N=v.a.firestore(),w=function(){var e=Object(f.a)(p.a.mark((function e(t,n){var c,r;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g.signInWithEmailAndPassword(t,n);case 2:return c=e.sent,r=c.user,e.abrupt("return",r);case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),E=function(){var e=Object(f.a)(p.a.mark((function e(t,n){var c,r;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g.createUserWithEmailAndPassword(t,n);case 2:return c=e.sent,r=c.user,e.abrupt("return",r);case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),S=n(39),_=p.a.mark(k),I=p.a.mark(y),C=p.a.mark(G);function k(e){var t;return p.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,Object(O.b)(x(!0));case 3:return n.next=5,Object(O.a)(w,e.payload.email,e.payload.password);case 5:return t=n.sent,n.next=8,Object(O.b)(m(t));case 8:return n.next=10,Object(O.b)(x(!1));case 10:n.next=17;break;case 12:return n.prev=12,n.t0=n.catch(0),n.next=16,Object(O.b)(x(!1));case 16:S.b.error(n.t0.message);case 17:case"end":return n.stop()}}),_,null,[[0,12]])}function y(e){var t;return p.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,Object(O.b)(x(!0));case 3:return n.next=5,Object(O.a)(E,e.payload.email,e.payload.password);case 5:return t=n.sent,N.collection("users").doc(t.uid).set({firstName:e.payload.firstName,secondName:e.payload.secondName}),n.next=9,Object(O.b)(m(t));case 9:return n.next=11,Object(O.b)(x(!1));case 11:n.next=18;break;case 13:return n.prev=13,n.t0=n.catch(0),n.next=17,Object(O.b)(x(!1));case 17:S.b.error(n.t0.message);case 18:case"end":return n.stop()}}),I,null,[[0,13]])}function G(){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(O.c)(c.SIGN_IN,k);case 2:return e.next=4,Object(O.c)(c.SIGN_UP,y);case 4:case"end":return e.stop()}}),C)}var R=p.a.mark(T);function T(){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(h.a)([G()]);case 2:case"end":return e.stop()}}),R)}var P=Object(l.a)(),L=(window&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||o.c)(Object(o.a)(P)),F=Object(o.d)(d,L);P.run(T);var A,D=n(14),U=n(38),W=n(26),V=n.n(W),M=(n(73),n(4)),B=function(e){var t=e.children,n=e.color,c=e.fullWidth,r=e.href,a=e.icon,i=e.onClick;return r?Object(M.jsx)(s.b,{to:r,activeClassName:V()("button button--link button--white"),className:V()("button button--link",Object(U.a)({"button--icon":a,"button--full-width":c},"button--".concat(n),n)),onClick:i,children:t}):Object(M.jsx)("button",{className:V()("button",Object(U.a)({"button--icon":a,"button--full-width":c},"button--".concat(n),n)),onClick:i,children:t})},J=(n(76),function(e){var t=e.placeholder,n=void 0===t?"":t,c=e.fullWidth,r=e.type,a=void 0===r?"":r,s=e.name,i=void 0===s?"":s,o=e.onChange,l=void 0===o?function(){}:o;return Object(M.jsxs)("div",{className:V()("input-wrapper",{"input-wrapper--full-width":c}),children:[Object(M.jsx)("input",{name:i,type:a,onChange:l,className:V()("input-wrapper__input",{"input-wrapper__input--full-width":c}),placeholder:" "}),Object(M.jsx)("label",{className:"input-wrapper__label",children:n})]})}),X=(n(77),function(){return Object(M.jsx)("div",{className:"divider"})}),z=n.p+"static/media/Google.89506ad9.svg",H=n.p+"static/media/GitHub.f635cb74.svg",Y=n(46),K=function(){var e=Object(i.b)(),t=Object(D.g)(),n=function(){var e=Object(f.a)(p.a.mark((function e(){var n,c,r;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=new v.a.auth.GoogleAuthProvider,e.next=3,g.signInWithPopup(n);case 3:c=e.sent,r=c.user,t.push("/feed"),console.log(r);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(M.jsx)("main",{children:Object(M.jsx)(Y.a,{initialValues:{email:"",password:""},onSubmit:function(t){var n;e((n=t,{type:c.SIGN_IN,payload:n}))},children:function(e){var t=e.values,c=e.handleChange,r=e.handleSubmit;return Object(M.jsxs)("form",{onSubmit:r,className:"form",children:[Object(M.jsx)("h1",{className:"form__title",children:"Sign in"}),Object(M.jsx)(J,{fullWidth:!0,name:"email",value:t.email,onChange:c,placeholder:"Email"}),Object(M.jsx)(J,{fullWidth:!0,name:"password",value:t.password,placeholder:"Password",onChange:c,type:"password"}),Object(M.jsxs)("div",{className:"form-group",children:[Object(M.jsx)(B,{color:"primary",children:"Sign in"}),Object(M.jsx)(B,{href:"/register",color:"white",children:"Sign up"})]}),Object(M.jsx)(X,{}),Object(M.jsxs)("div",{className:"form__other-auth",children:[Object(M.jsx)("img",{onClick:n,src:z,alt:""}),Object(M.jsx)("img",{src:H,alt:""})]})]})}})})},Q=function(){var e=Object(i.b)();return Object(M.jsx)("main",{children:Object(M.jsx)(Y.a,{initialValues:{firstName:"",secondName:"",email:"",password:"",confirmPassword:""},onSubmit:function(t){var n;e((n=t,{type:c.SIGN_UP,payload:n}))},children:function(e){var t=e.values,n=e.handleChange,c=e.handleSubmit;return Object(M.jsxs)("form",{onSubmit:c,className:"form",children:[Object(M.jsx)("h1",{className:"form__title",children:"Sign up"}),Object(M.jsxs)("div",{className:"form-group",children:[Object(M.jsx)(J,{fullWidth:!0,placeholder:"First name",value:t.firstName,onChange:n,name:"firstName"}),Object(M.jsx)(J,{fullWidth:!0,placeholder:"Second name",value:t.secondName,onChange:n,name:"secondName"})]}),Object(M.jsx)(J,{fullWidth:!0,placeholder:"Email",value:t.email,onChange:n,name:"email"}),Object(M.jsx)(J,{type:"password",fullWidth:!0,placeholder:"Password",value:t.password,onChange:n,name:"password"}),Object(M.jsx)(J,{type:"password",fullWidth:!0,placeholder:"Confirm password",value:t.confirmPassword,onChange:n,name:"confirmPassword"}),Object(M.jsxs)("div",{className:"form-group",children:[Object(M.jsx)(B,{color:"primary",children:"Sign up"}),Object(M.jsx)(B,{href:"/login",color:"white",children:"Sign in"})]}),Object(M.jsx)(X,{}),Object(M.jsxs)("div",{className:"form__other-auth",children:[Object(M.jsx)("img",{src:z,alt:""}),Object(M.jsx)("img",{src:H,alt:""})]})]})}})})},Z=function(){return Object(M.jsx)("div",{})},q=function(){return Object(M.jsx)("div",{})},$=function(){return Object(M.jsx)("div",{})};!function(e){e.LOGIN="/login",e.REGISTER="/register",e.PROFILE="/profile",e.FEED="/feed",e.MESSAGES="/messages",e.FRIENDS="/friends"}(A||(A={}));var ee=[{path:A.LOGIN,Component:K,exact:!1},{path:A.REGISTER,Component:Q,exact:!1}],te=[{path:A.PROFILE,Component:Z,exact:!1},{path:A.FEED,Component:Z,exact:!1},{path:A.MESSAGES,Component:q,exact:!1},{path:A.FRIENDS,Component:$,exact:!1}],ne=n(47),ce=(n(78),Object(r.createContext)(null)),re=function(e){var t=e.children,n=e.placement,c=Object(r.useState)(!1),a=Object(ne.a)(c,2),s=a[0],i=a[1],o=Object(r.useRef)(null);Object(r.useEffect)((function(){var e=function(e){var t;(null===(t=o.current)||void 0===t?void 0:t.contains(e.target))||i(!1)};return document.addEventListener("click",e),function(){return document.removeEventListener("click",e)}}),[]);return Object(M.jsx)("div",{className:"popup-wrapper",ref:o,children:Object(M.jsx)(ce.Provider,{value:{isVisible:s,toggleIsVisible:function(){i(!s)},placement:n},children:t})})};re.TargetElement=function(e){var t=e.children,n=Object(r.useContext)(ce).toggleIsVisible;return Object(M.jsx)("span",{onClick:n,children:t})},re.Options=function(e){var t=e.children,n=Object(r.useContext)(ce),c=n.isVisible,a=n.placement;return Object(M.jsx)(M.Fragment,{children:c&&Object(M.jsx)("ul",{className:"popup popup--".concat(a),children:t})})},re.Option=function(e){var t=e.children,n=e.onClick,c=Object(r.useContext)(ce).toggleIsVisible;return Object(M.jsx)("li",{className:"popup__item",onClick:function(){null===n||void 0===n||n(),c()},children:t})};n(79);var ae=function(){var e=Object(D.h)();return Object(M.jsxs)("header",{className:"header",children:[Object(M.jsx)("h1",{className:"header__title",children:e.pathname.slice(1)}),Object(M.jsxs)(re,{placement:"bottom-end",children:[Object(M.jsx)(re.TargetElement,{children:Object(M.jsx)("div",{className:"header__user"})}),Object(M.jsx)(re.Options,{children:Object(M.jsx)(re.Option,{onClick:function(){return g.signOut()},children:"Log out"})})]})]})},se=n(58),ie=n(35),oe=(n(80),n(81),function(e){var t=e.children;return Object(M.jsx)("div",{className:"button-group",children:t})}),le=(n(82),function(e){var t=e.children,n=e.content,c=e.placement,a=Object(r.useState)(!1),s=Object(ne.a)(a,2),i=s[0],o=s[1];return Object(M.jsxs)("div",{className:"tooltip-wrapper",onMouseEnter:function(){o(!0)},onMouseLeave:function(){o(!1)},children:[Object(M.jsx)("div",{className:"tooltip-wrapper__target-element",children:t}),i&&Object(M.jsx)("span",{className:"tooltip tooltip--".concat(c),children:n})]})}),ue=function(){return Object(M.jsxs)("div",{className:"sidebar",children:[Object(M.jsx)("div",{className:"sidebar-top",children:Object(M.jsx)(B,{icon:!0,color:"default",href:"/feed",children:Object(M.jsx)(se.a,{})})}),Object(M.jsx)(X,{}),Object(M.jsx)("div",{className:"sidebar-middle",children:Object(M.jsxs)(oe,{children:[Object(M.jsx)(le,{content:"Profile",placement:"right",children:Object(M.jsx)(B,{icon:!0,href:"/profile",children:Object(M.jsx)(ie.e,{})})}),Object(M.jsx)(le,{content:"Feed",placement:"right",children:Object(M.jsx)(B,{icon:!0,href:"/feed",children:Object(M.jsx)(ie.b,{})})}),Object(M.jsx)(le,{content:"Messages",placement:"right",children:Object(M.jsx)(B,{icon:!0,href:"/messages",children:Object(M.jsx)(ie.d,{})})}),Object(M.jsx)(le,{content:"Friends",placement:"right",children:Object(M.jsx)(B,{icon:!0,href:"/friends",children:Object(M.jsx)(ie.c,{})})})]})}),Object(M.jsx)(X,{}),Object(M.jsx)("div",{className:"sidebar-bottom",children:Object(M.jsx)(B,{icon:!0,children:Object(M.jsx)(ie.a,{})})})]})},je=(n(83),function(e){var t=e.children;return Object(M.jsxs)(M.Fragment,{children:[Object(M.jsx)(ue,{}),Object(M.jsx)(ae,{}),Object(M.jsx)("main",{className:"app-page",children:t})]})}),de=(n(84),function(e){var t=e.children;return Object(M.jsx)("main",{className:"auth-page",children:t})}),be=function(){return Object(i.c)((function(e){return e.auth.user}))?Object(M.jsxs)(D.d,{children:[te.map((function(e){var t=e.path,n=e.Component,c=e.exact;return Object(M.jsx)(D.b,{path:t,exact:c,children:Object(M.jsx)(je,{children:Object(M.jsx)(n,{})})},t)})),Object(M.jsx)(D.a,{to:A.FEED})]}):Object(M.jsxs)(D.d,{children:[ee.map((function(e){var t=e.path,n=e.Component,c=e.exact;return Object(M.jsx)(D.b,{path:t,exact:c,children:Object(M.jsx)(de,{children:Object(M.jsx)(n,{})})},t)})),Object(M.jsx)(D.a,{to:A.LOGIN})]})},pe=(n(85),n(86),function(e){var t=e.state;return Object(M.jsx)("div",{className:V()("loader",Object(U.a)({},t,t)),children:Object(M.jsxs)("div",{className:"lds-ellipsis ",children:[Object(M.jsx)("div",{}),Object(M.jsx)("div",{}),Object(M.jsx)("div",{}),Object(M.jsx)("div",{})]})})}),he=n(90),Oe=function(){var e=Object(i.c)((function(e){return e.auth.isLoading}));return Object(M.jsxs)(M.Fragment,{children:[Object(M.jsx)(he.a,{timeout:250,in:e,mountOnEnter:!0,unmountOnExit:!0,children:function(e){return Object(M.jsx)(pe,{state:e})}}),Object(M.jsx)(S.a,{}),Object(M.jsx)(be,{})]})};g.onAuthStateChanged((function(e){F.dispatch(x(!0)),F.dispatch(m(e)),F.dispatch(x(!1)),Object(a.render)(Object(M.jsx)(s.a,{children:Object(M.jsx)(i.a,{store:F,children:Object(M.jsx)(Oe,{})})}),document.getElementById("root"))}))}},[[87,1,2]]]);
//# sourceMappingURL=main.3f7d6d32.chunk.js.map